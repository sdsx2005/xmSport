<div align="center">

# å°ç±³è¿åŠ¨å¥åº·åˆ·æ­¥æ•°

[![å°ç±³è¿åŠ¨](https://img.shields.io/badge/å°ç±³è¿åŠ¨-passing-success.svg?style=flat-square&logo=xiaomi&logoWidth=20&logoColor=white)](https://github.com/chiupam/xmSport/actions)
[![JavaScript](https://img.shields.io/badge/JavaScript-ES6-yellow.svg?style=flat-square&logo=javascript)](https://www.javascript.com/)
[![Node.js](https://img.shields.io/badge/Node.js-16.x-green.svg?style=flat-square&logo=node.js)](https://nodejs.org/)
[![GitHub stars](https://img.shields.io/github/stars/chiupam/xmSport?style=flat-square&logo=github)](https://github.com/chiupam/xmSport/stargazers)
[![GitHub forks](https://img.shields.io/github/forks/chiupam/xmSport?style=flat-square&logo=github)](https://github.com/chiupam/xmSport/network/members)
[![License](https://img.shields.io/github/license/chiupam/xmSport?style=flat-square)](LICENSE)

</div>

è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨GitHub Actionsè‡ªåŠ¨åŒ–æ‰§è¡Œçš„å°ç±³è¿åŠ¨å¥åº·åˆ·æ­¥æ•°é¡¹ç›®ï¼Œå¯ä»¥å®šæ—¶ä¸ºå°ç±³è¿åŠ¨è´¦å·æ¨¡æ‹Ÿéšæœºæ­¥æ•°æ•°æ®ã€‚

## âœ¨ åŠŸèƒ½

- ğŸ•’ è‡ªåŠ¨å®šæ—¶æ‰§è¡Œåˆ·æ­¥æ•°è„šæœ¬ï¼ˆæ¯å¤©UTCæ—¶é—´14:55å’Œ15:55ï¼Œå¯¹åº”åŒ—äº¬æ—¶é—´22:55å’Œ23:55ï¼‰
- ğŸ² æ”¯æŒè‡ªå®šä¹‰æ­¥æ•°èŒƒå›´ï¼Œéšæœºç”Ÿæˆæ­¥æ•°
- ğŸ”„ æ”¯æŒGitHub Actionsè‡ªåŠ¨åŒ–æ‰§è¡ŒåŠæ‰‹åŠ¨è§¦å‘
- ğŸ›¡ï¸ å†…ç½®é‡è¯•æœºåˆ¶ï¼Œæé«˜æ‰§è¡ŒæˆåŠŸç‡
- ğŸ“± æ”¯æŒå¤šç§æ¸ é“æ¨é€é€šçŸ¥ç»“æœï¼ŒåŒ…æ‹¬Serveré…±ã€Barkã€Telegramç­‰

## ğŸš€ å¿«é€Ÿå¼€å§‹

1. **Forkæœ¬ä»“åº“**åˆ°ä½ çš„GitHubè´¦å·
2. åœ¨ä»“åº“çš„**Settings > Secrets > Actions**ä¸­æ·»åŠ ä»¥ä¸‹Secretsï¼š

### ğŸ”‘ å¿…éœ€çš„ç¯å¢ƒå˜é‡

| åç§° | å¿…å¡« | è¯´æ˜ | é»˜è®¤å€¼ |
|------|:----:|------| ----- |
| `PHONE_NUMBER` | âœ… | å°ç±³è¿åŠ¨/å°ç±³å¥åº·è´¦å·ç»‘å®šçš„æ‰‹æœºå·ï¼ˆä¸å«+86ï¼‰ | æ—  |
| `PASSWORD` | âœ… | è´¦å·å¯†ç  | æ—  |
| `xmSportMinStep` | âŒ | æœ€å°æ­¥æ•° | 10000 |
| `xmSportMaxStep` | âŒ | æœ€å¤§æ­¥æ•° | 19999 |
| `ENABLE_NOTIFY` | âŒ | æ˜¯å¦å¯ç”¨é€šçŸ¥åŠŸèƒ½ï¼Œè®¾ç½®ä¸º`true`æ—¶å¯ç”¨ | false |

#### ğŸ“² é€šçŸ¥é…ç½®

å¯ç”¨é€šçŸ¥æ¨é€åŠŸèƒ½åï¼ˆ`ENABLE_NOTIFY=true`ï¼‰ï¼Œå¯ä»¥é…ç½®ä»¥ä¸‹é€šçŸ¥æ¸ é“ï¼ˆè‡³å°‘éœ€è¦é…ç½®ä¸€ä¸ªï¼‰ï¼š

| å˜é‡å | è¯´æ˜ | å‚è€ƒæ–‡æ¡£ |
| ----- | ---- | ------- |
| `SERVERCHAN_KEY` | Serveré…±çš„æ¨é€å¯†é’¥ | [Serveré…±æ–‡æ¡£](https://sct.ftqq.com/) |
| `BARK_KEY` | Barkæ¨é€å¯†é’¥æˆ–å®Œæ•´URL | [Barkæ–‡æ¡£](https://github.com/Finb/Bark) |
| `TG_BOT_TOKEN` | Telegramæœºå™¨äººToken | [Telegram Bot API](https://core.telegram.org/bots/api) |
| `TG_CHAT_ID` | Telegramæ¥æ”¶æ¶ˆæ¯çš„ç”¨æˆ·æˆ–ç¾¤ç»„ID | [è·å–Chat IDæ•™ç¨‹](https://core.telegram.org/bots/features#chat-id) |
| `DINGTALK_WEBHOOK` | é’‰é’‰æœºå™¨äººçš„Webhook URL | [é’‰é’‰è‡ªå®šä¹‰æœºå™¨äººæ–‡æ¡£](https://open.dingtalk.com/document/robots/custom-robot-access) |
| `DINGTALK_SECRET` | é’‰é’‰æœºå™¨äººçš„å®‰å…¨å¯†é’¥(å¯é€‰) | åŒä¸Š |
| `WECOM_KEY` | ä¼ä¸šå¾®ä¿¡æœºå™¨äººçš„WebHook Key | [ä¼ä¸šå¾®ä¿¡æœºå™¨äººæ–‡æ¡£](https://developer.work.weixin.qq.com/document/path/91770) |
| `PUSHPLUS_TOKEN` | PushPlusæ¨é€Token | [PushPlusæ–‡æ¡£](https://www.pushplus.plus/) |

3. GitHub Actionså°†æŒ‰è®¡åˆ’è‡ªåŠ¨è¿è¡Œ

## âš™ï¸ å·¥ä½œæµç¨‹

GitHub Actionså·¥ä½œæµç¨‹é…ç½®åœ¨`.github/workflows/xmsport.yml`æ–‡ä»¶ä¸­ï¼š

- â° æ¯å¤©14:55å’Œ15:55è‡ªåŠ¨æ‰§è¡Œï¼ˆUTCæ—¶é—´ï¼Œå¯¹åº”åŒ—äº¬æ—¶é—´22:55å’Œ23:55ï¼‰
- ğŸ‘† æ”¯æŒæ‰‹åŠ¨è§¦å‘å·¥ä½œæµç¨‹å¹¶è®¾ç½®è‡ªå®šä¹‰æ­¥æ•°èŒƒå›´
- ğŸŸ¢ ä½¿ç”¨Node.jsç¯å¢ƒè¿è¡Œè„šæœ¬

## ğŸ”§ æ‰‹åŠ¨è§¦å‘

åœ¨GitHubä»“åº“é¡µé¢çš„Actionsæ ‡ç­¾é¡µä¸­ï¼Œä½ å¯ä»¥æ‰‹åŠ¨è§¦å‘å·¥ä½œæµï¼Œå¹¶è®¾ç½®è‡ªå®šä¹‰çš„æ­¥æ•°èŒƒå›´ï¼š

- `minStep`: æœ€å°æ­¥æ•°ï¼Œé»˜è®¤ä¸º10000
- `maxStep`: æœ€å¤§æ­¥æ•°ï¼Œé»˜è®¤ä¸º19999

## ğŸ“ æ•°æ®æ¨¡æ¿

ä»“åº“ä¸­å·²ç»åŒ…å«äº†`src/data.txt`æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«å°ç±³è¿åŠ¨çš„æ•°æ®æ¨¡æ¿ï¼š

- âœ… å·¥ä½œæµä¼šè‡ªåŠ¨è¯»å–è¯¥æ–‡ä»¶å†…å®¹ï¼Œæ— éœ€æ‰‹åŠ¨è®¾ç½®ç¯å¢ƒå˜é‡
- ğŸ”„ å¦‚éœ€ä¿®æ”¹æ•°æ®æ¨¡æ¿ï¼Œåªéœ€ç›´æ¥ç¼–è¾‘è¯¥æ–‡ä»¶ï¼Œæ¨é€åè‡ªåŠ¨ç”Ÿæ•ˆ

## ğŸ“² é€šçŸ¥åŠŸèƒ½

è„šæœ¬æ‰§è¡Œå¤±è´¥æ—¶ï¼Œå¯ä»¥é€šè¿‡å¤šç§æ¸ é“æ¥æ”¶é€šçŸ¥ï¼š

- éœ€è¦å…ˆè®¾ç½®`ENABLE_NOTIFY`ä¸º`true`æ¥å¯ç”¨é€šçŸ¥åŠŸèƒ½
- ä»…åœ¨ä¿®æ”¹æ­¥æ•°å¤±è´¥æ—¶æ‰ä¼šå‘é€é€šçŸ¥ï¼ŒæˆåŠŸæ—¶ä¸ä¼šæ‰“æ‰°æ‚¨
- **Serveré…±**ï¼šå¾®ä¿¡æ¨é€ï¼Œè®¾ç½®`SERVERCHAN_KEY`ç¯å¢ƒå˜é‡
- **Bark**ï¼šiOSæ¨é€ï¼Œè®¾ç½®`BARK_KEY`ç¯å¢ƒå˜é‡
- **Telegram**ï¼šè®¾ç½®`TG_BOT_TOKEN`å’Œ`TG_CHAT_ID`ç¯å¢ƒå˜é‡
- **é’‰é’‰**ï¼šä¼ä¸šæ¶ˆæ¯ï¼Œè®¾ç½®`DINGTALK_WEBHOOK`å’Œå¯é€‰çš„`DINGTALK_SECRET`ç¯å¢ƒå˜é‡
- **ä¼ä¸šå¾®ä¿¡**ï¼šè®¾ç½®`WECOM_KEY`ç¯å¢ƒå˜é‡
- **PushPlus**ï¼šå¾®ä¿¡æ¨é€ï¼Œè®¾ç½®`PUSHPLUS_TOKEN`ç¯å¢ƒå˜é‡

å¦‚æœæœªé…ç½®ä»»ä½•é€šçŸ¥æ¸ é“ï¼Œè„šæœ¬å°†åªåœ¨GitHub Actionsæ—¥å¿—ä¸­è¾“å‡ºç»“æœã€‚

## ğŸ“‚ æ–‡ä»¶ç»“æ„

- `src/index.js`: ä¸»è„šæœ¬æ–‡ä»¶ï¼Œè´Ÿè´£è¯·æ±‚å¤„ç†å’Œæ­¥æ•°æäº¤
- `src/dataProcessor.js`: æ•°æ®å¤„ç†æ¨¡å—ï¼Œè´Ÿè´£å¤„ç†å’Œç”Ÿæˆæ•°æ®
- `src/apiService.js`: APIæœåŠ¡æ¨¡å—ï¼Œå¤„ç†ä¸å°ç±³æœåŠ¡å™¨çš„é€šä¿¡
- `src/notify.js`: é€šçŸ¥æ¨¡å—ï¼Œæ”¯æŒå¤šç§æ¸ é“æ¨é€ç»“æœ
- `src/utils.js`: å·¥å…·å‡½æ•°æ¨¡å—ï¼Œæä¾›å„ç§é€šç”¨åŠŸèƒ½
- `src/data.txt`: æ•°æ®æ¨¡æ¿æ–‡ä»¶ï¼ˆå·²åŒ…å«åœ¨ä»“åº“ä¸­ï¼‰

## âš ï¸ å…è´£å£°æ˜

**è¯·ä»”ç»†é˜…è¯»ä»¥ä¸‹å£°æ˜ï¼š**

1. æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ç›®çš„ä½¿ç”¨ï¼Œä¸å¾—ç”¨äºå•†ä¸šæˆ–éæ³•ç”¨é€”
2. ä½¿ç”¨æœ¬é¡¹ç›®å¯èƒ½è¿åå°ç±³è¿åŠ¨/å°ç±³å¥åº·çš„æœåŠ¡æ¡æ¬¾ï¼Œè¯·è‡ªè¡Œè¯„ä¼°ä½¿ç”¨é£é™©
3. æœ¬é¡¹ç›®ä¸ä¿è¯åŠŸèƒ½çš„å¯ç”¨æ€§ï¼Œä¹Ÿä¸ä¿è¯ä¸ä¼šè¢«å°ç±³å®˜æ–¹æ£€æµ‹æˆ–å°ç¦
4. ä½¿ç”¨æœ¬é¡¹ç›®é€ æˆçš„ä»»ä½•é—®é¢˜ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºè´¦å·è¢«å°ç¦ã€æ•°æ®ä¸¢å¤±ç­‰ï¼Œé¡¹ç›®ä½œè€…æ¦‚ä¸è´Ÿè´£
5. ç”¨æˆ·éœ€è‡ªè¡Œæ‰¿æ‹…ä½¿ç”¨æœ¬é¡¹ç›®çš„å…¨éƒ¨é£é™©å’Œæ³•å¾‹è´£ä»»

## ğŸ“œ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT è®¸å¯è¯](LICENSE) è¿›è¡Œè®¸å¯ã€‚

## ğŸ§ª æœ¬åœ°æµ‹è¯•

å¦‚æœä½ æƒ³åœ¨æœ¬åœ°æµ‹è¯•è„šæœ¬ï¼Œå¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š

1. å…‹éš†ä»“åº“åˆ°æœ¬åœ°
   ```bash
   git clone https://github.com/your-username/xmSport.git
   cd xmSport
   ```

2. å®‰è£…ä¾èµ–
   ```bash
   npm install
   ```

3. åˆ›å»ºç¯å¢ƒå˜é‡æ–‡ä»¶
   ```bash
   cp .env.example .env
   ```

4. ç¼–è¾‘`.env`æ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„ä¸ªäººä¿¡æ¯
   - ä¿®æ”¹`PHONE_NUMBER`å’Œ`PASSWORD`ä¸ºä½ çš„è´¦å·ä¿¡æ¯
   - `DATA_JSON`ä¼šé€šè¿‡æµ‹è¯•è„šæœ¬è‡ªåŠ¨è¯»å–ï¼Œæ— éœ€æ‰‹åŠ¨è®¾ç½®

5. è¿è¡Œæµ‹è¯•è„šæœ¬ï¼ˆæ¨èï¼‰
   ```bash
   npm test
   ```
   è¿™ä¸ªå‘½ä»¤ä¼šè‡ªåŠ¨è¯»å–`src/data.txt`æ–‡ä»¶å†…å®¹å¹¶è®¾ç½®ä¸ºç¯å¢ƒå˜é‡

6. è°ƒè¯•å¤±è´¥é€šçŸ¥ï¼ˆå¯é€‰ï¼‰
   ```bash
   npm run test:fail
   ```
   è¿™ä¸ªå‘½ä»¤ä½¿ç”¨é”™è¯¯çš„è´¦å·å¯†ç æ¥è§¦å‘å¤±è´¥é€šçŸ¥

### æ‰‹åŠ¨æ–¹å¼æµ‹è¯•ï¼ˆå¯é€‰ï¼‰

å¦‚æœä½ å¸Œæœ›æ‰‹åŠ¨æ§åˆ¶ç¯å¢ƒå˜é‡ï¼Œå¯ä»¥ï¼š

1. æ‰“å¼€`src/data.txt`æ–‡ä»¶ï¼Œå¤åˆ¶å…¶å†…å®¹
2. å°†å†…å®¹ç²˜è´´åˆ°`.env`æ–‡ä»¶çš„`DATA_JSON=`åé¢ï¼ˆæ³¨æ„è½¬ä¹‰ç‰¹æ®Šå­—ç¬¦ï¼‰
3. ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿è¡Œï¼š
   ```bash
   npm run test:env
   ``` 

## ğŸ”„ Forkä»“åº“è‡ªåŠ¨åŒæ­¥

å¦‚æœä½ Forkäº†æ­¤ä»“åº“ï¼Œå¯ä»¥å¯ç”¨è‡ªåŠ¨åŒæ­¥åŠŸèƒ½ï¼Œä¿æŒä¸ä¸Šæ¸¸ä»“åº“çš„æ›´æ–°ä¸€è‡´ï¼š

1. åœ¨ä½ Forkçš„ä»“åº“ä¸­ï¼Œè¿›å…¥**Actions**æ ‡ç­¾é¡µ
2. ä½ ä¼šçœ‹åˆ°ä¸€ä¸ªåä¸º**è‡ªåŠ¨åŒæ­¥ä¸Šæ¸¸ä»“åº“**çš„å·¥ä½œæµ
3. ç‚¹å‡»**I understand my workflows, go ahead and enable them**å¯ç”¨å·¥ä½œæµ
4. ç°åœ¨ï¼Œä½ çš„Forkä»“åº“å°†æ¯å¤©è‡ªåŠ¨ä¸æ­¤ä¸Šæ¸¸ä»“åº“åŒæ­¥

ä½ ä¹Ÿå¯ä»¥éšæ—¶æ‰‹åŠ¨è§¦å‘åŒæ­¥ï¼š
1. åœ¨ä½ Forkçš„ä»“åº“ä¸­ï¼Œè¿›å…¥**Actions**æ ‡ç­¾é¡µ
2. åœ¨å·¦ä¾§é€‰æ‹©**è‡ªåŠ¨åŒæ­¥ä¸Šæ¸¸ä»“åº“**å·¥ä½œæµ
3. ç‚¹å‡»**Run workflow**æŒ‰é’®ï¼Œç„¶åç‚¹å‡»ç»¿è‰²çš„**Run workflow**æŒ‰é’®ç¡®è®¤

è¿™æ ·ä½ çš„Forkä»“åº“å°±ä¼šç«‹å³ä¸ä¸Šæ¸¸ä»“åº“åŒæ­¥ï¼Œè·å–æœ€æ–°çš„åŠŸèƒ½å’Œä¿®å¤ã€‚

> **æ³¨æ„**ï¼šæ­¤å·¥ä½œæµä»…åœ¨Forkçš„ä»“åº“ä¸­è¿è¡Œï¼Œä¸ä¼šåœ¨åŸå§‹ä»“åº“ä¸­æ‰§è¡Œã€‚ 